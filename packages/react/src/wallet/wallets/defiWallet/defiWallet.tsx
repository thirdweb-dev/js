import type { WalletOptions, WalletConfig } from "@thirdweb-dev/react-core";
import {
  DefiWallet,
  getInjectedDefiWalletProvider,
} from "@thirdweb-dev/wallets";
import { DefiWalletConnectUI } from "./DefiWalletConnectUI";

type DefiWalletOptions = {
  /**
   * When connecting Defi wallet using the QR Code - Wallet Connect connector is used which requires a project id.
   * This project id is Your projectâ€™s unique identifier for wallet connect that can be obtained at cloud.walletconnect.com.
   *
   * https://docs.walletconnect.com/2.0/web3modal/options#projectid-required
   */
  projectId?: string;

  /**
   * If true, the wallet will be tagged as "reccomended" in ConnectWallet Modal
   */
  recommended?: boolean;
};

export const defiWallet = (
  options?: DefiWalletOptions,
): WalletConfig<DefiWallet> => {
  return {
    id: DefiWallet.id,
    recommended: options?.recommended,
    meta: {
      name: "Defi Wallet",
      urls: {
        chrome:
          "https://chrome.google.com/webstore/detail/cryptocom-wallet-extensio/hifafgmccdpekplomjjkcfgodnhcellj",
        android:
          "https://play.google.com/store/apps/details?id=com.defi.wallet",
        ios: "https://apps.apple.com/us/app/crypto-com-l-defi-wallet/id1512048310",
      },
      iconURL:
        "data:image/jpeg;base64,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",
    },
    create: (walletOptions: WalletOptions) => {
      const wallet = new DefiWallet({
        ...walletOptions,
        projectId: options?.projectId,
        qrcode: false,
      });

      return wallet;
    },
    connectUI: DefiWalletConnectUI,
    isInstalled() {
      return !!getInjectedDefiWalletProvider();
    },
  };
};
