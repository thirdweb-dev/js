## API Report File for "@thirdweb-dev/storage"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { z } from 'zod';

// Warning: (ae-internal-missing-underscore) The name "BufferOrStringWithName" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type BufferOrStringWithName = {
    data: Buffer | string;
    name: string;
};

// Warning: (ae-internal-missing-underscore) The name "DEFAULT_GATEWAY_URLS" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const DEFAULT_GATEWAY_URLS: GatewayUrls;

// Warning: (ae-internal-missing-underscore) The name "extractObjectFiles" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function extractObjectFiles(data: Json, files?: FileOrBuffer[]): FileOrBuffer[];

// Warning: (ae-internal-missing-underscore) The name "FileOrBuffer" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type FileOrBuffer = File | Buffer | BufferOrStringWithName;

// Warning: (ae-internal-missing-underscore) The name "FileOrBufferOrString" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type FileOrBufferOrString = FileOrBuffer | string;

// Warning: (ae-internal-missing-underscore) The name "FileOrBufferOrStringSchema" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const FileOrBufferOrStringSchema: z.ZodUnion<[z.ZodUnion<[z.ZodTypeAny, z.ZodObject<{
    data: z.ZodTypeAny;
    name: z.ZodString;
}, "strip", z.ZodTypeAny, {
    data?: any;
    name: string;
}, {
    data?: any;
    name: string;
}>]>, z.ZodString]>;

// Warning: (ae-internal-missing-underscore) The name "FileOrBufferSchema" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const FileOrBufferSchema: z.ZodUnion<[z.ZodTypeAny, z.ZodObject<{
    data: z.ZodTypeAny;
    name: z.ZodString;
}, "strip", z.ZodTypeAny, {
    data?: any;
    name: string;
}, {
    data?: any;
    name: string;
}>]>;

// @public (undocumented)
export type GatewayUrls = {
    [key: string]: string[];
};

// @public (undocumented)
export type IpfsUploadBatchOptions = {
    rewriteFileNames?: {
        fileStartNumber: number;
    };
    uploadWithGatewayUrl?: boolean;
    onProgress?: (event: UploadProgressEvent) => void;
    uploadWithoutDirectory?: boolean;
};

// @public
export class IpfsUploader implements IStorageUploader<IpfsUploadBatchOptions> {
    constructor(options?: IpfsUploaderOptions);
    // (undocumented)
    gatewayUrls: GatewayUrls;
    // Warning: (ae-incompatible-release-tags) The symbol "uploadBatch" is marked as @public, but its signature references "FileOrBufferOrString" which is marked as @internal
    //
    // (undocumented)
    uploadBatch(data: FileOrBufferOrString[], options?: IpfsUploadBatchOptions): Promise<string[]>;
    // (undocumented)
    uploadWithGatewayUrl: boolean;
}

// @public (undocumented)
export type IpfsUploaderOptions = {
    gatewayUrls?: GatewayUrls;
    uploadWithGatewayUrl?: boolean;
};

// Warning: (ae-internal-missing-underscore) The name "isBrowser" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function isBrowser(): boolean;

// Warning: (ae-internal-missing-underscore) The name "isBufferInstance" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function isBufferInstance(data: any): data is Buffer;

// Warning: (ae-internal-missing-underscore) The name "isBufferOrStringWithName" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function isBufferOrStringWithName(data: any): data is BufferOrStringWithName;

// Warning: (ae-internal-missing-underscore) The name "isFileInstance" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function isFileInstance(data: any): data is File;

// @public (undocumented)
export interface IStorageDownloader {
    download(url: string): Promise<Response>;
    gatewayUrls: GatewayUrls;
}

// @public (undocumented)
export interface IStorageUploader<T extends UploadOptions> {
    gatewayUrls?: GatewayUrls;
    // Warning: (ae-incompatible-release-tags) The symbol "uploadBatch" is marked as @public, but its signature references "FileOrBufferOrString" which is marked as @internal
    uploadBatch(data: FileOrBufferOrString[], options?: T): Promise<string[]>;
    uploadWithGatewayUrl?: boolean;
}

// Warning: (ae-forgotten-export) The symbol "JsonLiteral" needs to be exported by the entry point thirdweb-dev-storage.cjs.d.ts
// Warning: (ae-internal-missing-underscore) The name "Json" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type Json = JsonLiteral | FileOrBuffer | JsonObject | Json[];

// Warning: (ae-internal-missing-underscore) The name "JsonObject" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type JsonObject = {
    [key: string]: Json;
};

// Warning: (ae-internal-missing-underscore) The name "JsonObjectSchema" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const JsonObjectSchema: z.ZodRecord<z.ZodString, z.ZodType<Json, z.ZodTypeDef, Json>>;

// Warning: (ae-internal-missing-underscore) The name "JsonSchema" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const JsonSchema: z.ZodType<Json>;

// Warning: (ae-internal-missing-underscore) The name "MemoryStorage" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type MemoryStorage = Record<string, Record<string, any>>;

// Warning: (ae-internal-missing-underscore) The name "MockDownloader" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class MockDownloader implements IStorageDownloader {
    constructor(storage: MemoryStorage);
    // (undocumented)
    download(url: string): Promise<Response>;
    // (undocumented)
    gatewayUrls: GatewayUrls;
    // (undocumented)
    storage: MemoryStorage;
}

// Warning: (ae-internal-missing-underscore) The name "MockUploader" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class MockUploader implements IStorageUploader<IpfsUploadBatchOptions> {
    constructor(storage: MemoryStorage);
    // (undocumented)
    storage: MemoryStorage;
    // (undocumented)
    uploadBatch(data: FileOrBufferOrString[], options?: IpfsUploadBatchOptions | undefined): Promise<string[]>;
}

// Warning: (ae-internal-missing-underscore) The name "PINATA_IPFS_URL" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const PINATA_IPFS_URL = "https://api.pinata.cloud/pinning/pinFileToIPFS";

// Warning: (ae-internal-missing-underscore) The name "prepareGatewayUrls" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function prepareGatewayUrls(gatewayUrls?: GatewayUrls): GatewayUrls;

// Warning: (ae-internal-missing-underscore) The name "replaceGatewayUrlWithScheme" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replaceGatewayUrlWithScheme(uri: string, gatewayUrls: GatewayUrls): string;

// Warning: (ae-internal-missing-underscore) The name "replaceObjectFilesWithUris" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replaceObjectFilesWithUris(data: Json, uris: string[]): Json;

// Warning: (ae-internal-missing-underscore) The name "replaceObjectGatewayUrlsWithSchemes" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replaceObjectGatewayUrlsWithSchemes(data: Exclude<Json, FileOrBuffer>, gatewayUrls: GatewayUrls): Json;

// Warning: (ae-internal-missing-underscore) The name "replaceObjectSchemesWithGatewayUrls" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replaceObjectSchemesWithGatewayUrls(data: Exclude<Json, FileOrBuffer>, gatewayUrls: GatewayUrls): Json;

// Warning: (ae-internal-missing-underscore) The name "replaceSchemeWithGatewayUrl" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export function replaceSchemeWithGatewayUrl(uri: string, gatewayUrls: GatewayUrls, index?: number): string;

// @public
export class StorageDownloader implements IStorageDownloader {
    constructor(gatewayUrls?: GatewayUrls);
    // (undocumented)
    download(uri: string, attempts?: number): Promise<Response>;
    // (undocumented)
    gatewayUrls: GatewayUrls;
}

// @public
export class ThirdwebStorage<T extends UploadOptions = IpfsUploadBatchOptions> {
    constructor(uploader?: IStorageUploader<T>, downloader?: IStorageDownloader);
    download(url: string): Promise<Response>;
    downloadJSON<TJSON = any>(url: string): Promise<TJSON>;
    // Warning: (ae-incompatible-release-tags) The symbol "upload" is marked as @public, but its signature references "Json" which is marked as @internal
    // Warning: (ae-incompatible-release-tags) The symbol "upload" is marked as @public, but its signature references "FileOrBuffer" which is marked as @internal
    upload(data: Json | FileOrBuffer, options?: T): Promise<string>;
    // Warning: (ae-incompatible-release-tags) The symbol "uploadBatch" is marked as @public, but its signature references "Json" which is marked as @internal
    // Warning: (ae-incompatible-release-tags) The symbol "uploadBatch" is marked as @public, but its signature references "FileOrBuffer" which is marked as @internal
    uploadBatch(data: Json[] | FileOrBuffer[], options?: T): Promise<string[]>;
}

// Warning: (ae-internal-missing-underscore) The name "TW_IPFS_SERVER_URL" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export const TW_IPFS_SERVER_URL = "https://upload.nftlabs.co";

// @public (undocumented)
export type UploadOptions = {
    [key: string]: any;
};

// @public (undocumented)
export type UploadProgressEvent = {
    progress: number;
    total: number;
};

// (No @packageDocumentation comment for this package)

```
