import { createMetadata, GithubButtonLink } from "@doc";

export const metadata = createMetadata({
    title: "thirdweb Modular Contracts",
    description:
        "Modular Contract provides a framework to build custom smart contracts more efficiently by offering a set of pre-built base contracts and reusable components, better known as modules.",
    image: {
        title: "thirdweb Modular Contracts",
        icon: "solidity",
    },
});

# RoyaltyERC1155

## Description

The `RoyaltyERC1155` contract is a module that integrates royalty management and validation functionalities for ERC-1155 token transfers. This module ensures that royalties are appropriately handled during token transfers, and allows for the validation of these transfers through a customizable transfer validator.

<GithubButtonLink href="https://github.com/thirdweb-dev/modular-contracts/blob/dev/src/module/token/transferable/TransferableERC1155.sol" />

## Callback Functions

| Function                    | Description                                                                       |
|-----------------------------|-----------------------------------------------------------------------------------|
| `beforeTransferERC1155`     | Callback function for the `ERC1155.transferFrom` and `ERC1155.safeTransferFrom` functions. Validates the transfer via the `transferValidator`. |
| `beforeBatchTransferERC1155`| Callback function for batch transfers of ERC-1155 tokens. Validates each transfer in the batch via the `transferValidator`. |

## Fallback Functions

| Function                         | Description                                                                                               |
|----------------------------------|-----------------------------------------------------------------------------------------------------------|
| `royaltyInfo`                    | Returns the royalty recipient and amount for a given sale.                                                 |
| `getDefaultRoyaltyInfo`          | Returns the default royalty info (recipient and BPS) for the token contract.                               |
| `getRoyaltyInfoForToken`         | Returns the royalty info (recipient and BPS) for a specific token.                                         |
| `getTransferValidator`           | Returns the transfer validator contract address for this token contract.                                   |
| `getTransferValidationFunction`  | Returns the function selector and view status for the transfer validator's validation function.            |
| `hasRole`                        | Checks if the given account has the specified role.                                                        |
| `setDefaultRoyaltyInfo`          | Sets the default royalty info (recipient and BPS). Requires manager role.                                  |
| `setRoyaltyInfoForToken`         | Sets the royalty info (recipient and BPS) for a specific token. Requires manager role.                     |
| `setTransferValidator`           | Sets the transfer validator contract address. Requires manager role.                                       |

## Required Interfaces

| Interface  | ID          |
|------------|-------------|
| `ERC-1155` | `0xd9b67a26`|

## Supported Interfaces

| Interface              | ID          |
|------------------------|-------------|
| `IERC2981`             | `0x2a55205a`|
| `ICreatorToken`        | `0xad0d7f6c`|
| `ICreatorTokenLegacy`  | `0xa07d229a`|

## Installation Callback

This module uses an installation callback to set up initial parameters such as the default royalty information and the transfer validator contract.
