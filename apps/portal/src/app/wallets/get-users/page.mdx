import { Callout } from "@doc";
import { createMetadata, ArticleIconCard, Stack, OpenApiEndpoint } from "@doc";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/ui/tabs";
import { TypeScriptIcon } from "@/icons";

export const metadata = createMetadata({
	image: {
		title: "Get Users",
		icon: "wallets",
	},
	title: "Get Users | thirdweb Documentation",
	description: "List and fetch users from your in-app or ecosystem wallet. thirdweb makes it easy to access wallet addresses, emails, phone numbers, and moreâ€”directly from your backend.",
});

# Fetch Users

From your backend, you can list all your users and fetch the details of any user within your in app or ecosystem wallet. This includes their address, email, phone number, and more.

<Tabs defaultValue="single">
	<TabsList>
		<TabsTrigger value="single">Single User</TabsTrigger>
		<TabsTrigger value="all">All Users</TabsTrigger>
		<TabsTrigger value="create">Create User</TabsTrigger>
	</TabsList>

<TabsContent value="single">

## Get Single User

Fetch details for a specific user by email, phone, wallet address, or user ID.

### Query Parameters

You can query by any of these user identifiers:

- `address`: The user's wallet address that thirdweb generated
- `email`: The user's email address
- `phone`: The user's phone number
- `externalWalletAddress`: The user's external wallet address (SIWE login)
- `id`: The user's ID (for custom auth)

### Authentication

Required headers:
- `x-secret-key`: Your secret key for authentication
- `x-ecosystem-id` (optional): Your ecosystem ID
- `x-ecosystem-partner-id` (optional): Your ecosystem partner ID

### Example

<OpenApiEndpoint path="/v1/wallets/user" method="GET" />

For ecosystem wallets, include the ecosystem headers in your requests.

</TabsContent>

<TabsContent value="all">

## Get All Users

List all users in your in-app or ecosystem wallet with pagination support.

### Query Parameters

- `page` (optional): Page number for pagination
- `limit` (optional): Maximum users per request (default: 50)

### Authentication

Required headers:
- `x-secret-key`: Your secret key for authentication
- `x-ecosystem-id` (optional): Your ecosystem ID
- `x-ecosystem-partner-id` (optional): Your ecosystem partner ID

<Callout variant="info" title="Ecosystem Users">
	For ecosystem wallets, the secret key must be from the same account as the ecosystem owner.
</Callout>

### Example

<OpenApiEndpoint path="/v1/wallets/user" method="GET" />

</TabsContent>

<TabsContent value="create">

## Create User Wallet (Pregeneration)

Pregenerate a user wallet before authentication. This creates a wallet in advance that can be claimed later when the user authenticates.

### Use Cases

- Create wallets based on known email addresses or user IDs
- Pre-fund wallets with tokens or NFTs before users claim them
- Enable smoother onboarding experiences

### Authentication

Required headers:
- `x-secret-key`: Your secret key for authentication
- `x-ecosystem-id` (optional): Your ecosystem ID
- `x-ecosystem-partner-id` (optional): Your ecosystem partner ID

### Example

<OpenApiEndpoint path="/v1/wallets/user" method="POST" />

</TabsContent>

</Tabs>

## SDK Integration

If you're using the thirdweb SDK, you can use the `getUser` method for easier integration:

<Stack>
	<ArticleIconCard
		title="getUser"
		icon={TypeScriptIcon}
		description="Get user details from your backend for thirdweb wallets in TypeScript"
		href="/references/typescript/v5/getUser"
	/>
</Stack>
