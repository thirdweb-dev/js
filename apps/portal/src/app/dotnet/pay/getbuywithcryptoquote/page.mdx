import { Details, createMetadata } from "@doc";

export const metadata = createMetadata({
	title: "GetBuyWithCryptoQuote | thirdweb .NET SDK",
	description:
		"Get a quote containing a TransactionRequest for swapping any token pair.",
});

# GetBuyWithCryptoQuote

Get a quote containing a TransactionRequest for swapping any token pair.

## Usage

```csharp
using Thirdweb.Pay;

var swapQuoteParams = new BuyWithCryptoQuoteParams(
	fromAddress: connectedAddress,
	fromChainId: 137,
	fromTokenAddress: Thirdweb.Constants.NATIVE_TOKEN_ADDRESS; // MATIC
	toTokenAddress: "0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270"; // WMATIC
	toAmount: "2" // I want to buy 2 WMATIC
);

var quote = await ThirdwebPay.GetBuyWithCryptoQuote(client, swapQuoteParams);
```

<Details summary="Configuration">

#### client (required)

`ThirdwebClient`: The Thirdweb client instance.

#### BuyWithCryptoQuoteParams (required)

A `BuyWithCryptoQuoteParams` object (with a helpful constructor) containing the following properties:

```csharp
string fromAddress; // Address executing the swap
BigInteger? fromChainId; // Chain ID of the from token
string fromTokenAddress; // Address of the from token
string toTokenAddress; // Address of the to token
string fromAmount; // Optional, amount of from token
string fromAmountWei; // Optional, amount of from token in wei
BigInteger? toChainId; // Optional, chain ID of the to token
string toAmount; // Optional, amount of to token
string toAmountWei; // Optional, amount of to token in wei
string toAddress; // Optional, address to receive the to token
int? maxSlippageBPS; // Optional, maximum slippage in basis points
string intentId; // Optional, intent identifier used to link status to a BuyWithFiat onramp flow if any
object purchaseData; // Optional, additional data to be passed and retained during the flow
```

</Details>

<Details summary="Return Value">

### Return Value

A `BuyWithCryptoQuoteResult` object containing the following properties:

```csharp
string quoteId; // Quote identifier
TransactionRequest transactionRequest; // TransactionRequest object for the swap
Approval approval; // Approval transaction details if needed
string fromAddress; // Address executing the swap
Token fromToken; // Token object of the from token
Token toToken; // Token object of the to token
string fromAmountWei; // Amount of from token in wei
string fromAmount; // Amount of from token
string toAmountMinWei; // Minimum amount of to token in wei
string toAmountMin; // Minimum amount of to token
string toAmountWei; // Amount of to token in wei
string toAmount; // Amount of to token
List<PaymentToken> paymentTokens; // Payment token details
List<ProcessingFee> processingFees; // Processing fee details
Estimated estimated; // Estimated usd values, slippage, duration if available
int maxSlippageBPS; // Maximum slippage in basis points
string bridge // Bridge to be used if applicable
```

</Details>
