import { Callout, OpenSourceCard, createMetadata, InstallTabs, SDKCard, Grid, ArticleIconCard, Tabs, TabsList, TabsTrigger, TabsContent } from "@doc";
import {
    ReactIcon,
    TypeScriptIcon,
    UnityIcon,
    DotNetIcon,
    UnrealEngineIcon
} from "@/icons"
import { ExternalLink } from "lucide-react";

export const metadata = createMetadata({
	image: {
		title: "Get started with thirdweb Wallets",
		icon: "wallets",
	},
	title: "Get started with thirdweb Wallet",
	description: "Get started with thirdweb Wallet",
});

# Get Started with thirdweb Wallet

thirdweb Wallet offers multiple ways to integrate wallet functionality in your application:

1. **External Wallets** - Connect to existing wallets like MetaMask, Coinbase Wallet, etc.
2. **In-App Wallets** - Create wallets with social/email login.
3. **Ecosystem Wallets** - Create wallets with social/email login that is shareable across various applications.

These methods can be used independently or together in the same application to provide the best experience for your users.

## Get your Client ID

To use wallet features in your applications, you will need a client ID. Generate one for free at [your thirdweb dashboard](https://thirdweb.com/create-api-key).

This client ID will be used to authenticate your application with thirdweb's services.

<Callout variant="info">
  Keep your client ID safe. You can generate different client IDs for development and production environments.
</Callout>

## Live Playground

Before diving into the implementation, check out our playground to see all the various capabilities of Connect:

<ArticleIconCard
    title="Try the demo"
    icon={ExternalLink}
    description="Play around with various wallet connection options"
    href="https://playground.thirdweb.com/connect/sign-in/button"
/>

## Choose Your Framework/Language

<Tabs defaultValue="typescript">
  <TabsList>
    <TabsTrigger value="typescript">TypeScript</TabsTrigger>
    <TabsTrigger value="react">React</TabsTrigger>
    <TabsTrigger value="reactnative">React Native</TabsTrigger>
    <TabsTrigger value="unity">Unity</TabsTrigger>
    <TabsTrigger value="dotnet">.NET</TabsTrigger>
    <TabsTrigger value="unreal">Unreal Engine</TabsTrigger>
  </TabsList>

  <TabsContent value="typescript">
    ### Installation

    Install the thirdweb SDK in your TypeScript project:

    ```bash
    npm install thirdweb
    # or
    yarn add thirdweb
    # or
    pnpm add thirdweb
    ```

    ### Setup the Client

    First, create a client instance to connect with thirdweb services:

    ```typescript
    import { createThirdwebClient } from "thirdweb";

    const client = createThirdwebClient({
      clientId: "YOUR_CLIENT_ID", // Get from your thirdweb dashboard
    });
    ```

    ### Connect External Wallets

    Enable users to connect their existing wallets:

    ```typescript
    import { createThirdwebClient, walletConnect } from "thirdweb";

    // Create the client
    const client = createThirdwebClient({
      clientId: "YOUR_CLIENT_ID",
    });

    // Connect WalletConnect
    const wallet = walletConnect({
      projectId: "YOUR_WALLETCONNECT_PROJECT_ID", // Get from WalletConnect dashboard
    });

    // Connect the wallet
    const walletInstance = wallet.connect();
    const address = await walletInstance.getAddress();
    console.log("Connected to:", address);
    ```

    ### Setup In-App Wallet

    Create wallets with email or social login:

    ```typescript
    import { createThirdwebClient, embeddedWallet } from "thirdweb";

    // Create the client
    const client = createThirdwebClient({
      clientId: "YOUR_CLIENT_ID",
    });

    // Initialize embedded wallet
    const wallet = embeddedWallet({
      client,
    });

    // Connect with email
    const emailWallet = await wallet.connect({
      strategy: "email",
      email: "user@example.com",
    });

    // Connect with social login
    const googleWallet = await wallet.connect({
      strategy: "google",
    });
    ```

    ### Setup Ecosystem Wallet

    Create shareable wallets across multiple applications:

    ```typescript
    import { createThirdwebClient, ecosystemWallet } from "thirdweb";

    // Create the client
    const client = createThirdwebClient({
      clientId: "YOUR_CLIENT_ID",
    });

    // Initialize ecosystem wallet
    const wallet = ecosystemWallet({
      client,
      ecosystemId: "YOUR_ECOSYSTEM_ID", // Get from your ecosystem dashboard
    });

    // Connect with email
    const emailWallet = await wallet.connect({
      strategy: "email",
      email: "user@example.com",
    });
    ```
  </TabsContent>

  <TabsContent value="react">
    ### Installation

    Install the thirdweb SDK in your React project:

    ```bash
    npm install thirdweb
    # or
    yarn add thirdweb
    # or
    pnpm add thirdweb
    ```

    ### Setup the Provider

    Wrap your application with the ThirdwebProvider:

    ```tsx
    import { ThirdwebProvider } from "thirdweb/react";

    function App() {
      return (
        <ThirdwebProvider clientId="YOUR_CLIENT_ID">
          <YourApp />
        </ThirdwebProvider>
      );
    }
    ```

    ### Connect Button Component

    Use the pre-built ConnectButton for a complete wallet connection UI:

    ```tsx
    import { ConnectButton } from "thirdweb/react";

    function YourApp() {
      return (
        <div>
          <h1>My dApp</h1>
          <ConnectButton />
        </div>
      );
    }
    ```

    ### Connection Hooks

    For more customized implementations, use the connection hooks:

    ```tsx
    import { useConnect, useDisconnect, useWallet } from "thirdweb/react";

    function CustomConnectButton() {
      const connect = useConnect();
      const disconnect = useDisconnect();
      const wallet = useWallet();

      return (
        <div>
          {wallet ? (
            <div>
              <p>Connected: {wallet.getAddress()}</p>
              <button onClick={() => disconnect()}>Disconnect</button>
            </div>
          ) : (
            <button 
              onClick={() => connect({ 
                connector: "metamask" // Or "coinbase", "walletConnect", etc.
              })}
            >
              Connect Wallet
            </button>
          )}
        </div>
      );
    }
    ```

    ### Using In-App Wallets

    Enable email or social login with the `useEmbeddedWallet` hook:

    ```tsx
    import { useEmbeddedWallet } from "thirdweb/react";

    function EmailLoginButton() {
      const embeddedWallet = useEmbeddedWallet();
      const [email, setEmail] = useState("");

      const handleLogin = async () => {
        try {
          await embeddedWallet.connect({
            strategy: "email",
            email,
          });
        } catch (error) {
          console.error("Failed to login:", error);
        }
      };

      return (
        <div>
          <input 
            type="email" 
            value={email} 
            onChange={(e) => setEmail(e.target.value)} 
            placeholder="Enter your email"
          />
          <button onClick={handleLogin}>Login with Email</button>
        </div>
      );
    }
    ```
  </TabsContent>

  <TabsContent value="reactnative">
    ### Installation

    Install the thirdweb SDK in your React Native project:

    ```bash
    npm install thirdweb
    # or
    yarn add thirdweb
    # or
    pnpm add thirdweb
    ```

    ### Setup the Provider

    Wrap your application with the ThirdwebProvider:

    ```tsx
    import { ThirdwebProvider } from "thirdweb/react-native";

    function App() {
      return (
        <ThirdwebProvider clientId="YOUR_CLIENT_ID">
          <YourApp />
        </ThirdwebProvider>
      );
    }
    ```

    ### Connect Button Component

    Use the pre-built ConnectButton for a complete wallet connection UI:

    ```tsx
    import { ConnectButton } from "thirdweb/react-native";

    function YourApp() {
      return (
        <View>
          <Text>My Mobile dApp</Text>
          <ConnectButton />
        </View>
      );
    }
    ```

    ### Using In-App Wallets

    Enable email or social login for mobile:

    ```tsx
    import { useEmbeddedWallet } from "thirdweb/react-native";
    import { useState } from "react";
    import { View, TextInput, Button, Alert } from "react-native";

    function EmailLoginButton() {
      const embeddedWallet = useEmbeddedWallet();
      const [email, setEmail] = useState("");

      const handleLogin = async () => {
        try {
          await embeddedWallet.connect({
            strategy: "email",
            email,
          });
        } catch (error) {
          Alert.alert("Login Failed", error.message);
        }
      };

      return (
        <View>
          <TextInput
            value={email}
            onChangeText={setEmail}
            placeholder="Enter your email"
            keyboardType="email-address"
          />
          <Button title="Login with Email" onPress={handleLogin} />
        </View>
      );
    }
    ```
  </TabsContent>

  <TabsContent value="unity">
    ### Installation

    1. Download the latest [thirdweb Unity SDK](https://github.com/thirdweb-dev/unity-sdk/releases)
    2. Import the package into your Unity project via Assets > Import Package > Custom Package

    ### Initialize the SDK

    Create a new script to manage wallet connections:

    ```csharp
    using Thirdweb;
    using UnityEngine;
    using UnityEngine.UI;

    public class WalletManager : MonoBehaviour
    {
        private ThirdwebSDK sdk;
        public Text walletAddressText;
        public Button connectButton;

        void Start()
        {
            sdk = new ThirdwebSDK("ethereum"); // Or any supported chain
            connectButton.onClick.AddListener(ConnectWallet);
        }

        public async void ConnectWallet()
        {
            try {
                string address = await sdk.wallet.Connect(new WalletConnection() {
                    provider = WalletProvider.CoinbaseWallet, // Or other providers
                    chainId = 1 // Ethereum Mainnet
                });
                
                walletAddressText.text = "Connected: " + address;
            }
            catch (System.Exception e) {
                Debug.LogError("Error connecting wallet: " + e.Message);
            }
        }
    }
    ```

    ### Using the Connect Wallet Prefab

    For a quicker implementation, use the provided prefab:

    1. Add the `ThirdwebManager` prefab to your scene
    2. Configure your Client ID in the inspector
    3. Add the `ConnectWallet` prefab to your UI Canvas
    4. Connect the prefab to your ThirdwebManager

    ### Implementing In-App Wallets

    Enable email login in Unity:

    ```csharp
    public async void ConnectWithEmail(string email)
    {
        try {
            string address = await sdk.wallet.Connect(new WalletConnection() {
                provider = WalletProvider.EmbeddedWallet,
                email = email,
                chainId = 1 // Ethereum Mainnet
            });
            
            walletAddressText.text = "Connected: " + address;
        }
        catch (System.Exception e) {
            Debug.LogError("Error connecting wallet: " + e.Message);
        }
    }
    ```
  </TabsContent>

  <TabsContent value="dotnet">
    ### Installation

    Install the thirdweb .NET SDK:

    ```bash
    dotnet add package Thirdweb
    ```

    ### Initialize the SDK

    Create a client instance to connect with thirdweb services:

    ```csharp
    using Thirdweb;

    // Initialize the SDK
    var sdk = new ThirdwebSDK("ethereum", new ThirdwebSDK.Options
    {
        ClientId = "YOUR_CLIENT_ID"
    });
    ```

    ### Connect External Wallets

    For .NET applications that need to interact with external wallets:

    ```csharp
    // For server-side applications or wallet management
    var privateKey = "YOUR_PRIVATE_KEY"; // Be careful with private keys
    var wallet = new PrivateKeyWallet(privateKey);
    
    await sdk.SetWallet(wallet);
    var address = await sdk.Wallet.GetAddress();
    Console.WriteLine($"Connected wallet address: {address}");
    ```

    ### Using In-App Wallets

    Create wallets with email authentication:

    ```csharp
    // Create an embedded wallet with email
    var walletOptions = new EmbeddedWalletOptions
    {
        Email = "user@example.com",
        AuthProvider = AuthProvider.Email
    };
    
    var wallet = new EmbeddedWallet(walletOptions);
    await sdk.SetWallet(wallet);
    
    // Authenticate and get the wallet address
    await wallet.Authenticate();
    var address = await sdk.Wallet.GetAddress();
    ```
  </TabsContent>

  <TabsContent value="unreal">
    ### Installation

    1. Download the latest [thirdweb Unreal Engine SDK](https://github.com/thirdweb-dev/unreal-sdk/releases)
    2. Add the plugin to your Unreal project
    3. Enable the plugin in your project settings

    ### Initialize the SDK

    Create a new Blueprint or C++ class to manage wallet connections:

    ```cpp
    #include "ThirdwebManager.h"
    #include "WalletConnection.h"

    // In your game class or controller
    void AMyGameController::InitializeThirdweb()
    {
        // Get the Thirdweb subsystem
        UThirdwebSubsystem* ThirdwebSubsystem = GEngine->GetEngineSubsystem<UThirdwebSubsystem>();
        
        // Initialize with your client ID
        ThirdwebSubsystem->Initialize("YOUR_CLIENT_ID", "ethereum");
    }

    void AMyGameController::ConnectWallet()
    {
        UThirdwebSubsystem* ThirdwebSubsystem = GEngine->GetEngineSubsystem<UThirdwebSubsystem>();
        
        // Configure wallet connection
        FWalletConnection WalletOptions;
        WalletOptions.Provider = EWalletProvider::MetaMask;
        WalletOptions.ChainId = 1; // Ethereum Mainnet
        
        // Connect wallet
        ThirdwebSubsystem->ConnectWallet(WalletOptions, FOnWalletConnected::CreateUObject(this, &AMyGameController::OnWalletConnected));
    }

    void AMyGameController::OnWalletConnected(const FString& Address, const FString& Error)
    {
        if (Error.IsEmpty())
        {
            UE_LOG(LogTemp, Display, TEXT("Wallet connected: %s"), *Address);
        }
        else
        {
            UE_LOG(LogTemp, Error, TEXT("Failed to connect wallet: %s"), *Error);
        }
    }
    ```

    ### UI Integration

    Create a widget blueprint with buttons to trigger wallet connections:

    1. Create a new Widget Blueprint
    2. Add a button for connecting wallets
    3. Bind the button's OnClicked event to your ConnectWallet function
    4. Add text elements to display the connected wallet address
  </TabsContent>
</Tabs>

## Next Steps

After setting up wallet functionality, explore these advanced topics:

- [Enable Account Abstraction](/connect/account-abstraction/overview)
- [Implement Sign In with Ethereum](/connect/auth)
- [Configure Gas Sponsorship](/connect/account-abstraction/sponsorship-rules)
- [Explore Payment Options](/connect/pay/overview)

## Explore Full SDK Documentation

For comprehensive guides on implementing the full thirdweb SDK, explore our language-specific documentation:

<Grid>
	<SDKCard
		title="TypeScript"
		href="/typescript/v5/getting-started"
		icon={TypeScriptIcon}
	/>
	<SDKCard
		title="React"
		href="/react/v5/getting-started"
		icon={ReactIcon}
	/>
	<SDKCard
		title="React Native"
		href="/react-native/v5/getting-started"
		icon={ReactIcon}
	/>
	<SDKCard
		title="DotNet"
		href="/dotnet/getting-started"
		icon={DotNetIcon}
	/>
	<SDKCard
		title="Unity"
		href="/unity/v5/getting-started"
		icon={UnityIcon}
	/>
	<SDKCard
		title="Unreal Engine"
		href="/unreal-engine/getting-started"
		icon={UnrealEngineIcon}
	/>
</Grid>

